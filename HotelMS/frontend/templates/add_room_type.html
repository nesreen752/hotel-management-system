{% extends 'base.html' %}

{% block title %}Add Room Type{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg mx-auto" style="max-width: 700px;">
        <div class="card-body">
            <h2 class="mb-4 text-primary text-center">
                <i class="fa-solid fa-bed me-2"></i> Add Room Type
            </h2>

            <form method="POST" action="{{ url_for('add_room_type') }}" onsubmit="return validateForm()">
                
                <!-- Type Name & Beds -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="typeName" class="form-label">Type Name</label>
                        <input type="text" class="form-control" id="typeName" name="name" required>
                    </div>
                    <div class="col-md-6">
                        <label for="beds" class="form-label">Number of Beds</label>
                        <input type="number" class="form-control" id="beds" name="beds" min="1" required>
                    </div>
                </div>

                <!-- Amenities Checkboxes -->
                <h5 class="mt-3 mb-2 text-secondary">Amenities</h5>
                <div class="row mb-3">
                    {% set amenities = ['ac','tv','wifi','airportShuttle','concierge','pool','spa','meetingCorner','bar','view'] %}
                    {% for amenity in amenities %}
                    <div class="col-md-6">
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="checkbox" id="{{ amenity }}" name="{{ amenity }}" value="1">
                            <label class="form-check-label text-capitalize" for="{{ amenity }}">
                                {{ amenity.replace('_', ' ') }}
                            </label>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- Price -->
                <div class="mb-4">
                    <label for="price" class="form-label">Price Per Night ($)</label>
                    <input type="number" class="form-control" id="price" name="price" step="0.01" min="0" required>
                </div>

                <!-- Buttons -->
                <div class="d-flex justify-content-end gap-2">
                    <a href="{{ url_for('room_types') }}" class="btn btn-secondary">
                        <i class="fa-solid fa-xmark me-1"></i> Cancel
                    </a>
                    <button type="submit" class="btn btn-primary">
                        <i class="fa-solid fa-check me-1"></i> Add Room Type
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // Client-side validation
    function validateForm() {
        const typeName = document.getElementById("typeName").value.trim();
        const beds = document.getElementById("beds").value;

        if (!typeName) {
            alert("Type Name is required.");
            return false;
        }

        if (beds <= 0) {
            alert("Number of Beds must be greater than 0.");
            return false;
        }

        return true;
    }
</script>
{% endblock %}
